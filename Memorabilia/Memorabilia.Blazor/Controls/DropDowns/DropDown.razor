@inherits CommandQuery

@typeparam TItem
@typeparam TType

<HiddenControl Visible="Visible">
    <Skeleton Height="50px"
              Type="SkeletonType.Rectangle"
              Visible="DisplaySkeleton" />
    <HiddenControl Visible="@(!DisplaySkeleton)">
        <HiddenControl Visible="MultiSelect">
            <MudSelect @bind-Value="SelectedValue"
                       Disabled="Disabled"
                       Label="@Label"
                       MultiSelection="true"
                       MultiSelectionTextFunc="@(new Func<List<string>, string>(GetMultiSelectionText))"
                       SelectAll="SelectAll"
                       SelectedValues="SelectedItems"
                       SelectedValuesChanged="SelectedItemsChanged"
                       T="TType"
                       Variant="Variant.Outlined">
                <Iterations Context="item"
                            Items="Items">
                    <MudSelectItem Value="@(GetItemDisplayValue(item))">@GetItemDisplayText(item)</MudSelectItem>
                </Iterations>
            </MudSelect>
        </HiddenControl>
        <HiddenControl Visible="@(!MultiSelect)">
            <MudSelect Disabled="Disabled"
                       Label="@Label"
                       T="TType"
                       Value="SelectedValue"
                       ValueChanged="@((p) => SelectionChanged.InvokeAsync(p))"
                       Variant="Variant">
                <HiddenControl Visible="DisplaySelect">
                    <MudSelectItem Value="SelectItemValue">@SelectItemText</MudSelectItem>
                </HiddenControl>
                <Iterations Context="item"
                            Items="Items">
                    <MudSelectItem Value="@(GetItemDisplayValue(item))">@GetItemDisplayText(item)</MudSelectItem>
                </Iterations>
            </MudSelect>
        </HiddenControl>
    </HiddenControl>
</HiddenControl>

