<MudTable Bordered="false"
          Dense="false"
          Hover="true"
          Items="Items"
          Striped="true">
    <ToolBarContent>
        <ToolbarTitle Text="Item" />
    </ToolBarContent>
    <HeaderContent>
        <MudTh></MudTh>
        <MudTh></MudTh>
        <MudTh>Item</MudTh>
        <MudTh>Condition</MudTh>
        <MudTh>Buy Now Price</MudTh>
        <MudTh></MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd>
            <IconButton Icon="@context.ToggleIcon"
                        OnClick="@(_ => ToggleChildContent(context.MemorabiliaId))" />
        </MudTd>
        <MudTd DataLabel="">
            <GridImage ImageFileName="@context.ImageFileName"
                       ImageLoaded="StateHasChanged"
                       UserId="@context.UserId" />
        </MudTd>
        <MudTd DataLabel="Item">@context.ItemTypeName</MudTd>
        <MudTd DataLabel="Condition">@context.ConditionName</MudTd>
        <MudTd DataLabel="BuyNowPrice">
            @(context.IsForSale && context.BuyNowPrice.HasValue ? context.BuyNowPrice.Value.ToString("c") : "None Specified")
        </MudTd>
        <MudTd DataLabel="">
            <ViewMemorabiliaImagesFab MemorabiliaId="context.MemorabiliaId"
                                      Size="@MudBlazor.Size.Large"
                                      UserId="context.UserId"
                                      Visible="@(!context.ImageFileName.IsNullOrEmpty())" />
        </MudTd>
    </RowTemplate>
    <ChildRowContent>
        <HiddenControl Visible="context.DisplayAutographDetails">
            <tr />
            <SummarySection>
                <TableDataCentered>
                    Summary: Autographs - <strong> @context.AutographsCount </strong>
                </TableDataCentered>
                <HiddenControl Visible="@(!context.Note.IsNullOrEmpty())">
                    <br />
                    <TableDataCentered>
                        Notes:<strong> @context.Note </strong>
                    </TableDataCentered>
                </HiddenControl>
            </SummarySection>
            <tr />
            <TableRowPadded>
                <TableDataSpan>
                    <MudTable Bordered="false"
                              Dense="false"
                              Hover="true"
                              Items="context.Autographs"
                              Striped="true">
                        <ToolBarContent>
                            <ToolbarTitle Text="Autographs" />
                            <MudSpacer />
                        </ToolBarContent>
                        <HeaderContent>
                            <MudTh></MudTh>
                            <MudTh>Person</MudTh>
                            <MudTh>Condition</MudTh>
                            <MudTh>Writing Instrument</MudTh>
                            <MudTh>Color</MudTh>
                            <MudTh>Authentications</MudTh>
                            <MudTh>Inscriptions</MudTh>
                            <MudTh></MudTh>
                        </HeaderContent>
                        <RowTemplate Context="autograph">
                            <MudTd DataLabel="">
                                <PersonGridImage ImageData="@(ImageService.GetPersonImageData(autograph.PersonImageName))"
                                                 ImageLoaded="StateHasChanged"
                                                 PersonId="autograph.Person.Id"/>
                            </MudTd>
                            <MudTd DataLabel="Person">@autograph.PersonName</MudTd>
                            <MudTd DataLabel="Condition">@autograph.ConditionName</MudTd>
                            <MudTd DataLabel="Writing Instrument">@autograph.WritingInstrumentName</MudTd>
                            <MudTd DataLabel="Color">@autograph.ColorName</MudTd>
                            <MudTd DataLabel="Authentications"
                                   Style="text-align:center">
                                <Chip Color="MudBlazor.Color.Info"
                                      Size="MudBlazor.Size.Small"
                                      Text="@autograph.AuthenticationText"
                                      TooltipText="@autograph.AuthenticationTooltip" />
                            </MudTd>
                            <MudTd DataLabel="Inscriptions"
                                   Style="text-align:center">
                                <Chip Color="MudBlazor.Color.Info"
                                      Size="MudBlazor.Size.Small"
                                      Text="@autograph.InscriptionText"
                                      TooltipText="@autograph.InscriptionTooltip" />
                            </MudTd>
                            <MudTd>
                                <ViewAutographImagesFab AutographId="autograph.Id"
                                                        UserId="autograph.UserId"
                                                        Visible="autograph.Images.Any()" />
                            </MudTd>
                        </RowTemplate>
                        <PagerContent>
                            <MudTablePager />
                        </PagerContent>
                    </MudTable>
                </TableDataSpan>
            </TableRowPadded>
        </HiddenControl>
    </ChildRowContent>
    <PagerContent>
        <MudTablePager />
    </PagerContent>
</MudTable>
