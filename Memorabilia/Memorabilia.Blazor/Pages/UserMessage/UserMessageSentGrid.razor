<MudTable @ref="_table"
          Bordered="false"
          Dense="false"
          Hover="true"
          Items="Model.Messages"
          ServerData="@(new Func<TableState, Task<TableData<UserMessageModel>>>(OnRead))"
          Striped="true">
    <HeaderContent>
        <MudTh></MudTh>
        <MudTh>To</MudTh>
        <MudTh>Subject</MudTh>
        <MudTh>Sent Date</MudTh>
        <MudTh></MudTh>        
    </HeaderContent>
    <RowTemplate>
        <MudTh></MudTh>
        <MudTd DataLabel="To">@context.ReceiverUsername</MudTd>
        <MudTd DataLabel="Subject">@context.Subject</MudTd>
        <MudTd DataLabel="SentDate">@context.CreatedDate.ToString("MM-dd-yyyy hh:mm:ss tt")</MudTd>
        <MudTd>
            <Fab Color="MudBlazor.Color.Primary"                 
                 OnClick="@(_ => ViewMessage(context))"
                 Size="@MudBlazor.Size.Small"
                 StartIcon="@Icons.Material.Outlined.Edit"
                 TooltipText="View" />
        </MudTd>
    </RowTemplate>
    <PagerContent>
        <MudTablePager />
    </PagerContent>
</MudTable>
