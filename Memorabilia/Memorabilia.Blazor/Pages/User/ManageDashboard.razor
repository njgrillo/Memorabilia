<Page OnLoad="OnLoad">
    <Content>
        <PageHeader PageTitle="@_viewModel.PageTitle" />
        <EditForm Model="_viewModel" OnValidSubmit="HandleValidSubmit">
            <DivPad2>
                <Content>
                    <MudTable Bordered="false"
                              Dense="false"
                              Hover="true"
                              Items="@_viewModel.UserDashboardItems"
                              Striped="true">
                        <ToolBarContent>
                            <MudText Typo="Typo.h6">Dashboard Items</MudText>
                        </ToolBarContent>
                        <HeaderContent>
                            <MudTh>
                                <CustomButton ButtonType="ButtonType.Button" 
                                              OnClick="OnSelectAll"
                                              Text="@SelectAllButtonText" />
                            </MudTh>
                            <MudTh>Name</MudTh>
                            <MudTh>Description</MudTh>
                        </HeaderContent>
                        <RowTemplate Context="userDashboardItem">
                            <MudTd DataLabel="">
                                <BooleanCheckBox Checked="@userDashboardItem.IsSelected"
                                                 CheckedChanged="(p) => userDashboardItem.IsSelected = p" /> 
                            </MudTd>
                            <MudTd DataLabel="Name">@userDashboardItem.Name</MudTd>
                            <MudTd DataLabel="Description">@userDashboardItem.Description</MudTd>
                        </RowTemplate>
                    </MudTable>
                </Content>
            </DivPad2>
            <DivLeftAlign>
                <Content>
                    <DivPad2>
                        <Content>
                            <SaveButton Text="Save & Exit" />
                            <CancelButton OnClick="@(_ => NavigationManager.NavigateTo(_viewModel.ExitNavigationPath))" />
                        </Content>
                    </DivPad2>
                </Content>
            </DivLeftAlign>
        </EditForm>
    </Content>
</Page>
