<Page OnLoad="OnLoad">
    <Content>
        <PageHeader PageTitle="@_viewModel.PageTitle" />
        <EditForm Model="_viewModel" OnValidSubmit="HandleValidSubmit">
            <DivPad2>
                <Content>
                    <MudTable Bordered="false"
                              Dense="false"
                              Hover="true"
                              Items="@_viewModel.UserDashboardItems"
                              Striped="true">
                        <ToolBarContent>
                            <MudText Typo="Typo.h6">Dashboard Items</MudText>
                        </ToolBarContent>
                        <HeaderContent>
                            <MudTh></MudTh>
                            <MudTh>Name</MudTh>
                            <MudTh>Description</MudTh>
                        </HeaderContent>
                        <RowTemplate Context="userDashboardItem">
                            <MudTd DataLabel="">
                                <MudCheckBox @bind-Checked="@userDashboardItem.IsSelected" />
                            </MudTd>
                            <MudTd DataLabel="Name">@userDashboardItem.Name</MudTd>
                            <MudTd DataLabel="Description">@userDashboardItem.Description</MudTd>
                        </RowTemplate>
                    </MudTable>
                </Content>
            </DivPad2>
            <DivLeftAlign>
                <Content>
                    <DivPad2>
                        <Content>
                            <MudButton ButtonType="MudBlazor.ButtonType.Submit"
                                       Color="MudBlazor.Color.Info"
                                       Size="MudBlazor.Size.Medium"
                                       StartIcon="@Icons.Material.Filled.Save"
                                       Variant="Variant.Filled">Save & Exit</MudButton>
                            <MudButton ButtonType="MudBlazor.ButtonType.Button"
                                       Color="MudBlazor.Color.Secondary"
                                       OnClick="@(_ => NavigationManager.NavigateTo(_viewModel.ExitNavigationPath))"
                                       Size="MudBlazor.Size.Medium"
                                       Variant="Variant.Filled">Cancel</MudButton>
                        </Content>
                    </DivPad2>
                </Content>
            </DivLeftAlign>
        </EditForm>
    </Content>
</Page>
