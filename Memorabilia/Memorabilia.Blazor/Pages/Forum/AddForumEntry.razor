@inherits ReroutePage

<ExpansionPanel CanExpand="false" 
                Text="@($"New Reply - {DateTime.Now.ToString("dddd, MMMM dd, yyyy hh:mm:ss tt")}")">
    <LeftRightSection LeftStyle="@Style.Width20Percent"
                      RightStyle="@Style.Width80Percent">
        <Left>
            <Text Typography="Typo.h6">@ApplicationStateService.CurrentUser?.Username</Text>
        </Left>
        <Right>
            <RowStack>
                <TextField Label="Message"
                           Lines="10"
                           SelectedText="@ForumEntry.Message"
                           SelectedTextChanged="@((p) => ForumEntry.Message = p)" />
                <HiddenControl Visible="ForumEntry.Images.Any()">
                    <ForumEntryImages ImageDeleted="OnImageDeleted"
                                      Images="ForumEntry.Images"
                                      UserId="ForumEntry.CreatedByUserId" />
                </HiddenControl>
                <Fab Color="MudBlazor.Color.Primary"                     
                     OnClick="AddImages"
                     Size="MudBlazor.Size.Small"
                     StartIcon="@Icons.Material.Outlined.AttachFile"
                     TooltipText="Attachments"
                     Visible="@CanAttach"/>
            </RowStack>            
        </Right>
    </LeftRightSection>
</ExpansionPanel>
