<DivPad2>
    <MudTable Bordered="false"
              Dense="false"
              Filter="new Func<ForumTopicModel,bool>(FilterFunc)"
              Hover="true"
              Items="Model.ForumTopics"
              Striped="true">
        <NoRecordsContent>
            <NoRecords Text="No Forum Bookmarks Found" />
        </NoRecordsContent>
        <ToolBarContent>
            <ToolbarTitle Text="Forum Bookmarks" />
            <MudSpacer />
            <ToolbarSearchField SearchText="@_search"
                                SearchTextChanged="@((p) => _search = p)" />
        </ToolBarContent>
        <HeaderContent>
            <MudTh>Category</MudTh>
            <MudTh>Sport</MudTh>
            <MudTh>Subject</MudTh>
            <MudTh>Created By</MudTh>
            <MudTh>Created Date</MudTh>
            <MudTh>Last Reply By</MudTh>
            <MudTh>Last Reply By Date</MudTh>
            <MudTh>Replies</MudTh>
            <MudTh></MudTh>
        </HeaderContent>
        <RowTemplate>
            <MudTd DataLabel="Category">@context.ForumCategoryName</MudTd>
            <MudTd DataLabel="Sport">@context.SportName</MudTd>
            <MudTd DataLabel="Subject">@context.Subject</MudTd>
            <MudTd DataLabel="CreatedBy">@context.CreatedByUsername</MudTd>
            <MudTd DataLabel="CreatedDate">@context.CreatedDate.ToString("dddd, MMMM dd, yyyy hh:mm:ss tt")</MudTd>
            <MudTd DataLabel="LastReplyBy">@context.LastReplyByUsername</MudTd>
            <MudTd DataLabel="LastReplyByDate">@(context.LastReplyByDate.HasValue ? context.LastReplyByDate.Value.ToString("dddd, MMMM dd, yyyy hh:mm:ss tt") : string.Empty)</MudTd>
            <MudTd DataLabel="Replies">@(context.EntryCount - 1)</MudTd>
            <TableDataRightAligned>
                <Fab Color="MudBlazor.Color.Primary"
                     OnClick="@(_ => NavigationManager.NavigateTo($"{NavigationPath.ForumTopic}/{DataProtectorService.EncryptId(context.Id)}"))"
                     Size="MudBlazor.Size.Small"
                     StartIcon="@Icons.Material.Outlined.Edit"
                     TooltipText="View" />
                <Fab Color="MudBlazor.Color.Secondary"
                     OnClick="@(_ => ShowRemoveBookmarkConfirm(context.Id))"
                     Size="MudBlazor.Size.Small"
                     StartIcon="@Icons.Material.Outlined.DeleteOutline"
                     TooltipText="Remove" />
            </TableDataRightAligned>
        </RowTemplate>
        <PagerContent>
            <MudTablePager />
        </PagerContent>
    </MudTable>
</DivPad2>
