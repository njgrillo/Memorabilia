<MudDialog Style="max-height:85vh;">
    <DialogContent>
        <Div Style="text-align:right;">
            <IconButton Icon="@Icons.Material.Filled.Close"
                        OnClick="Cancel" />
        </Div>
        <DivPad2>
            <DivRowCol12Center>
                <InputFile @bind-Value="@Images"
                           id="fileInput"                           
                           accept="image/*" 
                           hidden 
                           multiple
                           OnChange="@LoadFiles" />
                <Fab Color="MudBlazor.Color.Secondary"
                     For="fileInput"
                     HtmlTag="label"                        
                     Label="Load pictures"
                     StartIcon="@Icons.Material.Filled.Image" />
            </DivRowCol12Center>
            <Div Style="margin-top:1%;"
                 Visible="_files != null">
                <Text Typography="@Typo.h6">@_files?.Count() File@(_files?.Count() == 1 ? "" : "s"):</Text>
                <MudList>
                    <Iterations Context="file"
                                Items="_files">
                        <MudListItem @key="@file"
                                     Icon="@Icons.Material.Filled.AttachFile">
                            @file.Name <code>@file.Size bytes</code>
                        </MudListItem>
                    </Iterations>
                </MudList>
            </Div>
            <Div Style="margin-top:1%;">
                <RowStack>
                    <Iterations Context="image"
                                Items="Images">
                        <Div Class="col-3">
                            <ImageEditor CanRemove="true"
                                         HasPrimary="false"
                                         ImageFileName="@image.FileName"
                                         ImageRootType="ImageRootType.User"
                                         OnRemove="Remove" />
                        </Div>
                    </Iterations>
                </RowStack>                
            </Div>
        </DivPad2>
    </DialogContent>
    <DialogActions>
        <CancelButton OnClick="Cancel" />
        <AddButton OnClick="Add" />
    </DialogActions>
</MudDialog>
