@inherits EditItem<SavePewterViewModel, PewterViewModel>

<EditPage ContinueNavigationPath="@ViewModel.RoutePrefix"
          EditMode="ViewModel.EditModeType" 
          ExitNavigationPath="@ViewModel.RoutePrefix"
          ImagePath="@ViewModel.PageImagePath" 
          ItemName="@ViewModel.ItemTitle"
          Model="ViewModel"
          OnLoad="OnLoad"
          OnSave="HandleValidSubmit"
          PageFooterButtonText="@ViewModel.ExitButtonText"
          PageFooterNavigationPath="@ViewModel.ExitNavigationPath"
          PageTitle="@ViewModel.PageTitle"
          TItem="SavePewterViewModel">
    <Content>
        <DivRowCol3>
            <Content>
                <FranchiseDropDown SelectedValue="ViewModel.FranchiseId"
                                   SelectionChanged="(p) => ViewModel.FranchiseId = p" />
            </Content>
        </DivRowCol3>
        <DivRowCol3>
            <Content>
                <TeamDropDown Franchise="@Franchise.Find(ViewModel.FranchiseId)" 
                              SelectedValue="@ViewModel.TeamId"
                              SelectionChanged="(p) => ViewModel.TeamId = p"
                              SportLeagueLevel="@SportLeagueLevel.NationalFootballLeague"/> 
            </Content>
        </DivRowCol3>
        <DivRowCol3>
            <Content>
                <ItemTypeSizeDropDown ItemType="@ItemType.Helmet"
                                      SelectedValue="@ViewModel.SizeId"
                                      SelectionChanged="(p) => ViewModel.SizeId = p" />
            </Content>
        </DivRowCol3>
        <DivRowCol3>
            <Content>
                <InputFile id="fileInput" 
                           accept="image/*" 
                           hidden
                           OnChange="@LoadFile"   />
                <MudFab Color="MudBlazor.Color.Secondary"
                        HtmlTag="label"
                        Icon="@Icons.Filled.Image"
                        Label="Load picture"
                        for="fileInput" />  
            </Content>
        </DivRowCol3>
        <DivRowCol3>
            <Content>
                <PrettyBlazor.Condition Evaluation="_hasImage">
                    <Match>
                        <ImageEditor CanRemove="false"
                                     FileName=""
                                     HasPrimary="false"                                     
                                     ImageFilePath="@ViewModel.ImagePath"
                                     ImageRootFilePath="@PewterImageRootPath"
                                     ImageType="ImageType.Primary"
                                     OnRemove="Remove" /> 
                    </Match>
                </PrettyBlazor.Condition>
            </Content>
        </DivRowCol3>
    </Content>
</EditPage>