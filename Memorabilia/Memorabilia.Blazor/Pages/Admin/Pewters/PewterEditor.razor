@inherits EditItem<SavePewterViewModel, PewterViewModel>

<EditPage ContinueNavigationPath="@ViewModel.RoutePrefix"
          EditMode="ViewModel.EditModeType" 
          ExitNavigationPath="@ViewModel.RoutePrefix"
          ImageFileName="@ViewModel.ImageFileName"
          ItemName="@ViewModel.ItemTitle"
          Model="ViewModel"
          OnLoad="OnLoad"
          OnSave="HandleValidSubmit"
          PageFooterButtonText="@ViewModel.ExitButtonText"
          PageFooterNavigationPath="@ViewModel.ExitNavigationPath"
          PageTitle="@ViewModel.PageTitle"
          TItem="SavePewterViewModel">
    <Content>
        <DivRowCol3>
            <Content>
                <FranchiseAutoComplete SelectedValue="ViewModel.Franchise"
                                       SelectionChanged="(p) => ViewModel.Franchise = p"
                                       Sports="@(new [] { Sport.Football })" />
            </Content>
        </DivRowCol3>
        <DivRowCol3>
            <Content>
                <TeamDropDown Franchise="@ViewModel.Franchise" 
                              SelectedValue="@ViewModel.TeamId"
                              SelectionChanged="(p) => ViewModel.TeamId = p"
                              SportLeagueLevel="@SportLeagueLevel.NationalFootballLeague"/> 
            </Content>
        </DivRowCol3>
        <DivRowCol3>
            <Content>
                <ItemTypeSizeDropDown ItemType="@ItemType.Helmet"
                                      SelectedValue="@ViewModel.SizeId"
                                      SelectionChanged="(p) => ViewModel.SizeId = p" />
            </Content>
        </DivRowCol3>
        <DivRowCol3>
            <Content>
                <InputFile id="fileInput" 
                           accept="image/*" 
                           hidden
                           OnChange="@LoadFile"   />
                <MudFab Color="MudBlazor.Color.Secondary"
                        HtmlTag="label"
                        Icon="@Icons.Material.Filled.Image"
                        Label="Load picture"
                        for="fileInput" />  
            </Content>
        </DivRowCol3>
        <DivRowCol3>
            <Content>
                <Condition Evaluation="_hasImage">
                    <Match>
                        <ImageEditor CanRemove="false"
                                     HasPrimary="false"                                     
                                     ImageFileName="@ViewModel.FileName"
                                     ImageRootPath="@ImagePath.PewterImageRootPath"
                                     ImageType="ImageType.Primary"
                                     OnRemove="Remove" /> 
                    </Match>
                </Condition>
            </Content>
        </DivRowCol3>
    </Content>
</EditPage>