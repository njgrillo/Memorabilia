@inherits EditPersonItem<PersonImageEditModel, PersonImageModel>

<EditPage ContinueNavigationPath="@EditModel.ContinueNavigationPath"
          DisplaySaveContinueButton="false"
          EditMode="EditModel.EditModeType"
          ExitNavigationPath="@EditModel.ExitNavigationPath"
          ImageFileName="@EditModel.ImageFileName" 
          ItemName="@EditModel.ItemTitle"
          Model="EditModel"
          OnLoad="OnLoad"
          OnSave="HandleValidSubmit"
          PageFooterButtonText="@EditModel.ExitButtonText"
          PageFooterNavigationPath="@EditModel.BackNavigationPath"
          PageTitle="@EditModel.PageTitle"
          TItem="PersonImageEditModel"
          UseMultipleButtons="true">
    <TimelineContent>
        <PersonTimeline EditMode="EditModel.EditModeType"
                        PersonId="EditModel.PersonId"
                        PersonStep="EditModel.PersonStep" />
    </TimelineContent>
    <Content>
        <DivRowCol12>
            <Content>
                <DivRowCol3>
                    <Content>
                        <InputFile id="fileInput" 
                                   accept="image/*" 
                                   hidden
                                   OnChange="@LoadFile"   />
                        <MudFab Color="MudBlazor.Color.Secondary"
                                HtmlTag="label"
                                Icon="@Icons.Material.Filled.Image"
                                Label="Load picture"
                                for="fileInput" />  
                    </Content>
                </DivRowCol3>
                <DivRowCol3>
                    <Content>
                        <Condition Evaluation="_hasImage">
                            <Match>
                                <ImageEditor CanRemove="true"
                                             HasPrimary="false"
                                             ImageFileName="@EditModel.PersonImageFileName"
                                             ImageRootType="ImageRootType.People"
                                             ImageType="ImageType.Primary"
                                             OnRemove="Remove" /> 
                            </Match>
                        </Condition>
                    </Content>
                </DivRowCol3>
            </Content>
        </DivRowCol12>
    </Content>
    <AdditionalButtons>
        <SaveButton OnClick="OnSaveReturnClick"
                    Text="Save & Return to People" />
    </AdditionalButtons>
</EditPage>
