<DivPad2>
    <MudTable @ref="_table"
              Bordered="false"
              Dense="false"
              Hover="true"
              Items="Model.Franchises"
              ServerData="@(new Func<TableState, Task<TableData<FranchiseRecordViewModel>>>(OnRead))"
              Striped="true">
        <ToolBarContent>
            <ToolbarTitle Text="Franchise Records" />
            <MudSpacer />
            <MudTextField Adornment="Adornment.Start" 
                          AdornmentIcon="@Icons.Material.Filled.Search"  
                          Class="mt-0"
                          Placeholder="Search"
                          T="string"
                          ValueChanged="@(search => Filter(search))" />
        </ToolBarContent>
        <HeaderContent>
            <MudTh>Name</MudTh>
            <MudTh>Sport League</MudTh>
            <MudTh>Career Records</MudTh>
            <MudTh>Single Season Records</MudTh>
            <MudTh></MudTh>
        </HeaderContent>
        <RowTemplate>
            <MudTd DataLabel="Name">@context.FranchiseName</MudTd>
            <MudTd DataLabel="Sport League">@context.SportLeagueLevelAbbreviation</MudTd>
            <MudTd DataLabel="CareerRecords">@context.CareerRecordCount</MudTd>
            <MudTd DataLabel="SingleSeasonRecords">@context.SingleSeasonRecordCount</MudTd>
            <TableDataRightAligned>
                <NavigationGridButton NavigationPath="@($"{NavigationPath.EditFranchiseRecords}/{DataProtectorService.EncryptId(context.FranchiseId)}")" />
            </TableDataRightAligned>
        </RowTemplate>
        <PagerContent>
            <MudTablePager />
        </PagerContent>
    </MudTable>
</DivPad2>

