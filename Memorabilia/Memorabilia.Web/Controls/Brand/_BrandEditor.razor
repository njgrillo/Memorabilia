@using Memorabilia.Application.Features.Admin
@using Memorabilia.Domain.Constants

<_DomainItemEditor ImagePath="images/brands.jpg"
                   Item="@Item"
                   ItemName="Brand"
                   NavigationPath="Brands"
                   OnSave="Save"
                   PageTitle="@_pageTitle"/>

@code {
    [Parameter]
    public EditModeType EditModeType { get; set; }

    [Parameter]
    public SaveDomainViewModel Item { get; set; } = new SaveDomainViewModel();

    [Parameter]
    public EventCallback<SaveDomainViewModel> OnSave { get; set; }

    private string _pageTitle;

    protected override Task OnInitializedAsync()
    {
        _pageTitle = $"{(EditModeType == EditModeType.Add ? "Add" : "Edit")} Brand";

        return base.OnInitializedAsync();
    }

    protected async Task Save()
    {
        await OnSave.InvokeAsync(Item).ConfigureAwait(false);
    }
}
