@using Memorabilia.Application.Features.Admin

@inject NavigationManager _navigation

<_Page OnLoad="Load">
    <Content>
        <_DomainTable DomainEntities="@_viewModel.DomainEntities"
                      DomainItemName="@_viewModel.ItemTitle"
                      DomainItemTitle="@_viewModel.PageTitle"
                      OnDelete="Delete"
                      RoutePrefix="@_viewModel.RoutePrefix" />
    </Content>
</_Page>

@code {
    [Parameter]
    public DomainsViewModel DomainItems
    {
        get
        {
            return _viewModel;
        }
        set
        {
            _viewModel = value;
        }
    }

    [Parameter]
    public EventCallback<SaveDomainViewModel> OnDelete { get; set; }  

    [Parameter]
    public EventCallback OnLoad { get; set; } 

    private DomainsViewModel _viewModel;

    protected async Task Delete(SaveDomainViewModel viewModel)
    {
        await OnDelete.InvokeAsync(viewModel).ConfigureAwait(false);
    }

    protected async Task Load()
    {
        await OnLoad.InvokeAsync().ConfigureAwait(false);
    }
}
