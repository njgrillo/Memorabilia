@page "/Tools/BaseballProfile/{personId:int}"

<DivPad2>
    <Content>
        <DivRowCol4>
            <Content>
                <MudText Typo="Typo.h4"><b>@_viewModel.NameHeader</b></MudText>
            </Content>
            <ContentColumn2>
                <MudChip Color="MudBlazor.Color.Success">@_viewModel.AllStarSummaryDisplayText</MudChip>
            </ContentColumn2>
            <ContentColumn3>
                <MudChip Color="MudBlazor.Color.Success">@_viewModel.ChampionshipSummaryDisplayText</MudChip>
            </ContentColumn3>
        </DivRowCol4>
        <DivRowCol4>
            <Content>
                <MudText Typo="Typo.h6">@_viewModel.Nicknames</MudText>
            </Content>
            <ContentColumn2>
                <Iterations Items="@_viewModel.DistinctAwards">
                    <MudChip Color="MudBlazor.Color.Success">@($"{_viewModel.Awards.Where(award => award.AwardTypeId == context.AwardTypeId).Count()}x {context.AwardTypeAbbreviatedName}")</MudChip>
                </Iterations>
            </ContentColumn2>
            <ContentColumn3>
                
            </ContentColumn3>
        </DivRowCol4>
        <DivRowCol4>
            <Content>
                <MudText Typo="Typo.h6">@_viewModel.LifespanHeader</MudText>
            </Content>
            <ContentColumn2>
                <Iterations Items="@_viewModel.DistinctLeaders">
                    <MudChip Color="MudBlazor.Color.Success">@($"{_viewModel.Leaders.Where(leader => leader.LeaderTypeId == context.LeaderTypeId).Count()}x {context.LeaderTypeAbbreviatedName}")</MudChip>
                </Iterations>
            </ContentColumn2>
            <ContentColumn3>

            </ContentColumn3>
        </DivRowCol4>
        <DivRowCol4>
            <Content>
                <MudImage Class="rounded-lg ma-4"
                          Elevation="25"
                          Height="650" 
                          Src="@_viewModel.PersonImageData" 
                          Width="500"   />
            </Content>
            <ContentColumn2>                
                <PrettyBlazor.Condition Evaluation="_viewModel.HasDraftData">
                    <Match>
                        <MudText Typo="Typo.h6"><b>Draft Details</b></MudText>
                        <Iterations Items="@_viewModel.Drafts">
                            <MudText Typo="Typo.h6">@context.ToString()</MudText>
                        </Iterations>
                    </Match>
                </PrettyBlazor.Condition>  
                <br />
                <MudText Typo="Typo.h6">@_viewModel.Debut</MudText>
                <MudText Typo="Typo.h6">@_viewModel.LastAppearance</MudText>
                <br />
                <MudText Typo="Typo.h6">Batting Average</MudText>
                <MudText Typo="Typo.h6">Hits</MudText>
                <MudText Typo="Typo.h6">Home Runs</MudText>
                <MudText Typo="Typo.h6">RBIs</MudText>
                <br />
                <PrettyBlazor.Condition Evaluation="_viewModel.HasCareerRecords">
                    <Match>
                        <MudText Typo="Typo.h6"><b>Career Records:</b></MudText>
                        <Iterations Items="@_viewModel.CareerRecords">
                            <MudText Typo="Typo.h6">@context.ToString()</MudText>
                        </Iterations>
                    </Match>
                </PrettyBlazor.Condition>   
                <br />
                <PrettyBlazor.Condition Evaluation="_viewModel.HasSingleSeasonRecords">
                    <Match>
                        <MudText Typo="Typo.h6"><b>Single Season Records:</b></MudText>
                        <Iterations Items="@_viewModel.SingleSeasonRecords">
                            <MudText Typo="Typo.h6">@context.ToString()</MudText>
                        </Iterations>
                    </Match>
                </PrettyBlazor.Condition> 
            </ContentColumn2>
        </DivRowCol4>
        <DivRowCol4>
            <Content>
                <MudTable Bordered="false"
                          Dense="false" 
                          Hover="true"
                          Items="@_viewModel.Teams"    
                          Striped="true">
                    <HeaderContent>
                        <MudTh>Team</MudTh>
                        <MudTh>Begin Year</MudTh>
                        <MudTh>End Year</MudTh>
                    </HeaderContent>
                    <RowTemplate>
                        <MudTd DataLabel="Name">@context.Name</MudTd>
                        <MudTd DataLabel="Begin Year">@context.BeginYear</MudTd>
                        <MudTd DataLabel="End Year">@context.EndYear</MudTd>
                    </RowTemplate>
                    <PagerContent>
                        <MudTablePager />
                    </PagerContent>
                </MudTable>
            </Content>
            <ContentColumn2>

            </ContentColumn2>
        </DivRowCol4>
    </Content>
</DivPad2>

