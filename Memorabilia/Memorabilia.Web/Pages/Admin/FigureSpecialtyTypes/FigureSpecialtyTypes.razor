@page "/FigureSpecialtyTypes"

@using Memorabilia.Application.Features.Admin
@using Memorabilia.Application.Features.Admin.FigureSpecialtyType

@inject CommandRouter _commandRouter
@inject QueryRouter _queryRouter

<_DomainItems DomainItems="_viewModel"
              OnDelete="OnDelete"
              OnLoad="OnLoad" />

@code {
    private FigureSpecialtyTypesViewModel _viewModel;

    protected async Task OnDelete(SaveDomainViewModel viewModel)
    {
        await _commandRouter.Send(new SaveFigureSpecialtyType.Command(viewModel)).ConfigureAwait(false);
    }

    protected async Task OnLoad()
    {
        _viewModel = await _queryRouter.Send(new GetFigureSpecialtyTypes.Query()).ConfigureAwait(false);
    }
}
