@inherits LayoutComponentBase

<MudThemeProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout>
    <MudAppBar>
        <LeftRightSection>
            <Left>
                <MudTooltip Text="@(_drawerOpen ? "Collapse" : "Expand")">
                    <MudIconButton Color="MudBlazor.Color.Inherit"
                                   Edge="Edge.Start"
                                   Icon="@Icons.Material.Filled.Menu"
                                   OnClick="@((e) => DrawerToggle())" />
                </MudTooltip>
            </Left>
            <Right>
                <Condition Evaluation="_userLoggedIn">
                    <Match>
                        <MudTooltip Text="User Settings">
                            <MudIconButton Color="MudBlazor.Color.Inherit"
                                           Edge="Edge.Start"
                                           Icon="@Icons.Material.Filled.Settings"
                                           OnClick="@((e) => UserSettings())" />
                        </MudTooltip>
                        <MudTooltip Text="Logout">
                            <MudIconButton Color="MudBlazor.Color.Inherit"
                                           Edge="Edge.Start"
                                           Icon="@Icons.Material.Filled.Logout"
                                           OnClick="@((e) => Logout())" />
                        </MudTooltip>
                    </Match>
                    <NotMatch>
                        <MudTooltip Text="Login">
                            <MudIconButton Color="MudBlazor.Color.Inherit"
                                           Edge="Edge.Start"
                                           Icon="@Icons.Material.Filled.Login"
                                           OnClick="@((e) => Login())" />
                        </MudTooltip>
                    </NotMatch>
                </Condition>
            </Right>
        </LeftRightSection>   
    </MudAppBar>
    <MudDrawer @bind-Open="@_drawerOpen">
        <NavMenu />
    </MudDrawer>
    <MudMainContent>
        <ErrorBoundary @ref="_errorBoundary">
            @Body
        </ErrorBoundary>        
    </MudMainContent>
</MudLayout>